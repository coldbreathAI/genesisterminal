<script>
  const asciiArt = document.getElementById('asciiArt');
  const terminal = document.getElementById('terminal');
  const input = document.getElementById('terminalInput');

  let isFirstDesign = true;

  const commands = {
    help: 'Available commands: help, clear, switch, chat',
    clear: () => {
      terminal.querySelectorAll('.output').forEach((el) => el.remove());
      return '';
    },
    switch: () => {
      isFirstDesign = !isFirstDesign;
      asciiArt.innerHTML = `<pre>${isFirstDesign ? firstDesign : secondDesign}</pre>`;
      return 'ASCII design switched!';
    },
  };

  const responses = {
    hello: "¡Hola! ¿Cómo puedo ayudarte?",
    hi: "Hi there! How can I assist you?",
    bye: "Adiós, ¡vuelve pronto!",
    "how are you": "Soy solo un terminal, ¡pero me siento genial!",
  };

  input.addEventListener('keydown', (event) => {
    if (event.key === 'Enter') {
      const value = input.value.trim().toLowerCase();
      if (value) {
        const commandOutput = document.createElement('div');
        commandOutput.className = 'output';
        commandOutput.textContent = `>_ ${value}`;
        terminal.insertBefore(commandOutput, input.parentElement);

        let response;
        if (commands[value]) {
          response = typeof commands[value] === 'function' ? commands[value]() : commands[value];
        } else if (responses[value]) {
          response = responses[value];
        } else {
          response = `I don't understand "${value}". Try 'help' for available commands.`;
        }

        const responseOutput = document.createElement('div');
        responseOutput.className = 'output';
        responseOutput.textContent = response;
        terminal.insertBefore(responseOutput, input.parentElement);
      }
      input.value = '';
      terminal.scrollTop = terminal.scrollHeight;
    }
  });
</script>
